<!DOCTYPE html>
<html lang="zh-TW" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>國泰 Health+ 生態圈 | AI 賦能互動策略藍圖</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="layout-overrides.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Serene Tech -->
    <!-- Application Structure Plan: 採用單頁垂直滾動的敘事結構，將報告的六大章節轉化為六個沉浸式互動場景。此設計旨在引導評審逐步深入計畫核心，從建立問題的急迫性（第一部），到展示創新的解決方案（第二部），再到闡述多方共贏的價值（第三、四部），並主動回應潛在挑戰（第五部），最終以一個強有力的願景作結（第六部）。此結構透過故事性的流程與互動體驗，旨在建立情感共鳴與邏輯說服力，比傳統簡報分頁更具沉浸感，符合Apple風格的敘事要求。 -->
    <!-- Visualization & Content Choices: 
        - 1.1 高齡化危機 -> 目標: 建立急迫性 -> 視覺化: Chart.js動態折線圖與JS動畫計數器 -> 理由: 清晰呈現數據趨勢的嚴重性，並將不健康餘命與財務壓力掛鉤。
        - 1.2 惡性循環 -> 目標: 解釋核心商業痛點 -> 視覺化: 純CSS/JS動畫圖解 -> 理由: 將複雜的保險風險池概念簡化為易懂的視覺故事。
        - 2.2 App核心引擎 -> 目標: 展示核心產品 -> 視覺化: 互動式HTML手機模型 -> 理由: 讓評審能模擬操作，直觀感受產品從數據到價值的轉換流程。
        - 3.1-3.3 多方共贏 -> 目標: 闡述價值主張 -> 視覺化: 互動分頁(Tabs)結合Chart.js圖表與互動滑桿 -> 理由: 讓評審可依角色自選探索，數據呈現更清晰，互動性強。
        - 4.2 顧問工具箱 -> 目標: 展示人機協同策略 -> 視覺化: 互動式儀表板模型 -> 理由: 讓評審點擊體驗AI賦能工具的強大功能。
        - 5.1 數據治理 -> 目標: 建立信任 -> 視覺化: 互動式HTML數據流圖 -> 理由: 點擊各節點可看見說明，將抽象的數據安全承諾具象化。
        - 6.1 良性循環 -> 目標: 強化計畫的永續性 -> 視覺化: 全螢幕循環CSS動畫圖 -> 理由: 以強烈視覺印象總結計畫的系統性優勢。
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <!-- <style>
        :root {
            --c-green-500: #22c55e;
            --c-gray-800: #1f2937;
        }
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f8fafc;
            color: var(--c-gray-800);
            overflow-x: hidden;
        }
        .section-wrapper {
             @apply min-h-screen w-full py-24 px-4 sm:px-8 flex flex-col justify-center items-center text-center overflow-hidden;
        }
        .section-content {
            @apply w-full max-w-7xl mx-auto;
        }
        .section-title {
            @apply text-4xl md:text-5xl lg:text-6xl font-bold text-gray-800 mb-4 tracking-tight;
        }
        .section-subtitle {
            @apply text-lg md:text-xl text-gray-500 max-w-3xl mx-auto;
        }
        .apple-card {
            @apply bg-white/60 backdrop-blur-xl rounded-3xl p-8 md:p-12 shadow-2xl shadow-slate-200/50 transition-all duration-300 w-full border border-slate-200/80;
        }
        .fade-in {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.8s cubic-bezier(0.215, 0.610, 0.355, 1.000), transform 0.8s cubic-bezier(0.215, 0.610, 0.355, 1.000);
            transition-delay: 0.2s;
        }
        .is-visible .fade-in {
            opacity: 1;
            transform: translateY(0);
        }
        .nav-dot {
            @apply w-2.5 h-2.5 rounded-full bg-slate-300 transition-all duration-300 cursor-pointer hover:bg-green-400;
        }
        .nav-dot.active {
            @apply bg-green-600 scale-150;
        }
        .phone {
            background: #1c1c1e;
            border-radius: 54px;
            padding: 12px;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25), inset 0 2px 4px rgba(255,255,255,0.1);
        }
        .phone-screen {
            background: #f8fafc;
            border-radius: 42px;
            overflow: hidden;
            aspect-ratio: 9 / 19.5;
            position: relative;
        }
        .tab-button {
            @apply px-5 py-3 md:px-8 md:py-3 text-base md:text-lg font-semibold rounded-full transition-all duration-300 transform hover:scale-105;
        }
        .tab-button.active {
            @apply bg-green-600 text-white shadow-lg scale-110;
        }
        .tab-button-user:not(.active) { @apply bg-blue-100 text-blue-800 hover:bg-blue-200; }
        .tab-button-cathay:not(.active) { @apply bg-purple-100 text-purple-800 hover:bg-purple-200; }
        .tab-button-society:not(.active) { @apply bg-orange-100 text-orange-800 hover:bg-orange-200; }
        
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 650px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 45vh;
        }
        .gemini-button {
            @apply mt-4 inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-full shadow-sm text-white bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 disabled:opacity-50 disabled:cursor-not-allowed;
        }
        .gemini-output {
            @apply mt-4 p-4 bg-green-50 border-l-4 border-green-500 text-left text-gray-700 rounded-r-lg min-h-[100px];
        }
         @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
    </style> -->
</head>
<body class="antialiased">

    <nav id="side-nav" class="fixed top-1/2 right-4 md:right-6 -translate-y-1/2 z-50 flex flex-col items-center space-y-4">
        <!-- Dots will be generated here -->
    </nav>

    <main>
        <!-- 1. Intro -->
        <section id="intro" class="section-wrapper h-screen">
            <div class="absolute inset-0 bg-grid-slate-200/[0.4] [mask-image:radial-gradient(ellipse_at_center,white,transparent_80%)]"></div>
            <div class="relative z-10 fade-in w-full max-w-7xl px-4 mx-auto">
                <h1 class="text-5xl md:text-7xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-green-600 to-teal-500 mb-4">國泰 Health+ 生態圈</h1>
                <p class="text-xl md:text-2xl text-gray-600">一份由 AI 賦能的健康永續提案</p>
                <div class="mt-12 text-gray-500 animate-bounce">
                    <span class="text-sm">向下捲動以探索</span>
                    <svg class="w-6 h-6 mx-auto mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </div>
            </div>
        </section>

        <!-- 1.1 The Aging Crisis & Unhealthy Life Expectancy -->
        <section id="aging-crisis" class="section-wrapper">
            <div class="section-content">
                <div class="fade-in">
                    <p class="text-green-600 font-semibold mb-2">第一部：無法迴避的未來</p>
                    <h2 class="section-title">人口結構的定時炸彈</h2>
                    <p class="section-subtitle mb-12">台灣正快速駛向超高齡社會，這不只是數字，而是對社會結構、醫療體系與每個家庭的深刻衝擊。</p>
                </div>
                <div class="w-full grid lg:grid-cols-2 gap-8 items-center">
                    <div class="w-full fade-in" style="transition-delay: 0.3s;">
                        <div class="apple-card">
                            <h3 class="text-2xl font-bold text-gray-800 mb-2">高齡人口與扶養比的雙重壓力</h3>
                            <p class="text-gray-600 mb-6">2025年，台灣將進入超高齡社會，屆時每五位國民中就有一位是長者。</p>
                            <div class="chart-container"><canvas id="agingChart"></canvas></div>
                        </div>
                    </div>
                    <div class="w-full fade-in" style="transition-delay: 0.4s;">
                         <div class="apple-card">
                             <h3 class="text-2xl font-bold text-gray-800 mb-2">「不健康餘命」的危機</h3>
                             <p class="text-gray-600 mb-6">長壽值得慶賀，但如果增加的歲月充滿病痛與失能，它將成為個人與社會的沉重代價。</p>
                             <div id="life-expectancy-vis" class="w-full h-24 bg-slate-200 rounded-full overflow-hidden flex items-center pl-4 text-sm md:text-lg">
                                 <div id="healthy-years" class="h-full bg-gradient-to-r from-green-400 to-teal-400 transition-all duration-1000 flex items-center justify-center text-white font-bold" style="width: 0%;">健康餘命</div>
                                 <div id="unhealthy-years" class="h-full bg-red-400 transition-all duration-1000 flex items-center justify-center text-white font-bold" style="width: 0%;">不健康</div>
                             </div>
                             <div class="mt-6 text-center">
                                 <p class="text-gray-600 text-lg">預估長期照護總成本：</p>
                                 <p class="text-4xl font-bold text-red-600" id="care-cost">NT$ 0</p>
                             </div>
                         </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 1.2 The Vicious Cycle -->
        <section id="vicious-cycle" class="section-wrapper">
            <div class="section-content max-w-4xl">
                 <div class="fade-in">
                    <h2 class="section-title">壓力下的體系：保險的惡性循環</h2>
                    <p class="section-subtitle mb-12">當年輕的活水無法流入，風險池逐漸乾涸，傳統保險的社會契約正悄然崩解。</p>
                </div>
                <div class="w-full fade-in apple-card" style="transition-delay: 0.3s;">
                    <div class="flex flex-col md:flex-row items-center justify-around gap-8">
                        <div class="w-full md:w-1/2 space-y-4 text-left">
                            <h3 class="text-2xl font-bold text-gray-800">風險池的失衡</h3>
                            <p class="text-gray-600">一個無法吸引低風險年輕人、只剩下高風險族群的保險制度，注定走向不可持續的未來。高昂的保費勸退了年輕人，導致風險更加集中。</p>
                        </div>
                        <div id="cycle-animation" class="w-full md:w-1/2 h-64 flex flex-col items-center justify-center space-y-4 relative">
                            <div class="flex items-end justify-center w-full h-24">
                                <div id="pool-old" class="h-12 w-16 bg-red-300 rounded-t-lg flex items-center justify-center transition-all duration-1000 text-3xl">🧓</div>
                                <div id="pool-young" class="h-12 w-16 bg-green-300 rounded-t-lg flex items-center justify-center transition-all duration-1000 text-3xl">🧑</div>
                            </div>
                            <div class="w-48 h-2 bg-slate-300 rounded-full"></div>
                            <p id="cycle-text" class="text-lg font-semibold text-gray-700 transition-opacity duration-500">一個平衡的風險池</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Youth Dilemma section that was added back -->
        <section id="youth-dilemma" class="section-wrapper">
             <div class="section-content max-w-5xl">
                <div class="fade-in">
                    <h2 class="section-title">渴望保障，卻無力負擔</h2>
                    <p class="section-subtitle mb-12">研究顯示，年輕人並非不關心未來，而是被傳統保險的高牆所阻擋。我們如何為他們設計對的產品？</p>
                </div>
                <div class="w-full fade-in apple-card" style="transition-delay: 0.3s;">
                    <div class="grid md:grid-cols-2 gap-8 md:gap-12 items-center">
                        <div class="text-left">
                            <h3 class="text-2xl font-bold text-gray-800 mb-4">✨ AI 保單規劃師</h3>
                            <p class="text-gray-600 mb-4">輸入您的每月預算，讓 AI 為您量身打造一份可負擔的長照保單概念。</p>
                            <div>
                                <label for="budget-slider" class="font-medium text-gray-700">每月預算: NT$ <span id="budget-value">1000</span></label>
                                <input id="budget-slider" type="range" min="500" max="3000" value="1000" step="100" class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer mt-2">
                            </div>
                            <button id="gemini-plan-btn" class="gemini-button">生成保單概念</button>
                        </div>
                        <div id="gemini-plan-output-container" class="bg-slate-50/70 rounded-2xl p-6 text-left">
                            <h4 class="font-bold text-gray-800">您的個人化保單概念：</h4>
                            <div id="gemini-plan-output" class="gemini-output">請點擊左側按鈕生成...</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 2.1 Paradigm Shift -->
        <section id="paradigm-shift" class="section-wrapper">
            <div class="section-content max-w-5xl">
                 <div class="fade-in">
                    <p class="text-green-600 font-semibold mb-2">第二部：範式轉移</p>
                    <h2 class="section-title">從支付者，到健康夥伴</h2>
                    <p class="section-subtitle mb-12">國泰 Health+ 提出全新價值主張：我們不只在您生病時提供保障，更在您健康時給予獎勵。</p>
                </div>
                <div class="w-full fade-in apple-card" style="transition-delay: 0.3s;">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center">
                        <div class="p-6 border-2 border-red-200 rounded-2xl text-center">
                            <h3 class="text-2xl font-bold text-red-500 mb-4">傳統保險</h3>
                            <p class="text-gray-600 mb-6">低頻互動、事後理賠的被動模式。</p>
                            <div id="traditional-path" class="text-xl font-mono text-red-400">簽約 ┅┅┅＞ 理賠</div>
                        </div>
                        <div class="p-6 border-2 border-green-300 bg-green-50/50 rounded-2xl text-center">
                             <h3 class="text-2xl font-bold text-green-600 mb-4">國泰 Health+</h3>
                             <p class="text-gray-600 mb-6">高頻互動、事前預防的主動夥伴關係。</p>
                             <div id="healthplus-path" class="text-xl font-mono text-green-500">Live → Record → Reward → Improve ↺</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 2.2 Core Engine -->
        <section id="app-flow" class="section-wrapper">
            <div class="section-content max-w-6xl">
                 <div class="fade-in">
                    <h2 class="section-title">核心引擎：Health+ App 與 AI 健康教練</h2>
                    <p class="section-subtitle mb-12">透過我們的核心 App，用戶的每一個健康行為，都能被轉化為真實、有價的獎勵，並獲得 AI 的智慧支持。</p>
                </div>
                 <div class="w-full grid grid-cols-1 lg:grid-cols-2 gap-8 items-center fade-in" style="transition-delay: 0.3s;">
                    <div class="order-2 lg:order-1 text-left space-y-4 apple-card">
                       <h3 class="text-2xl font-bold text-gray-800 mb-4">✨ AI 健康教練</h3>
                       <p class="text-gray-600 mb-4">向您的 AI 健康教練分享您的一天，看看他會給您什麼建議！</p>
                       <textarea id="health-input" class="w-full p-2 border rounded-lg bg-slate-50" rows="3" placeholder="例如：今天走了8000步，午餐吃了沙拉，但只睡了6小時..."></textarea>
                       <button id="gemini-coach-btn" class="gemini-button">獲得 AI 教練建議</button>
                        <div id="gemini-coach-output" class="gemini-output">AI 教練正在等您分享...</div>
                    </div>
                    <div class="order-1 lg:order-2 flex justify-center">
                        <div class="phone w-full max-w-xs">
                            <div class="phone-screen p-4 flex flex-col">
                                <div class="flex justify-between items-center p-2">
                                    <h3 class="text-xl font-bold text-gray-800">Health+</h3>
                                    <div class="w-8 h-8 bg-green-200 rounded-full flex items-center justify-center text-green-700 font-bold text-sm">C</div>
                                </div>
                                <div id="phone-content" class="flex-grow flex flex-col justify-center items-center text-center space-y-2 p-2">
                                     <!-- JS will update this -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- 2.3 Global Precedents -->
        <section id="global-precedents" class="section-wrapper">
            <div class="section-content max-w-6xl">
                <div class="fade-in">
                    <h2 class="section-title">全球先例，在地創新</h2>
                    <p class="section-subtitle mb-12">我們並非從零開始，而是站在全球 InsurTech 巨人的肩膀上，並結合自身獨有優勢進行整合創新。</p>
                </div>
                <div class="w-full fade-in apple-card relative h-[60vh] md:h-[70vh]" style="transition-delay: 0.3s;">
                    <div id="map-container" class="w-full h-full bg-slate-100 rounded-2xl flex items-center justify-center text-gray-400 overflow-hidden relative">
                         <svg width="100%" height="100%" viewBox="0 0 1000 500" preserveAspectRatio="xMidYMid meet" class="absolute inset-0">
                            <defs>
                                <filter id="glow">
                                    <feGaussianBlur stdDeviation="3.5" result="coloredBlur"></feGaussianBlur>
                                    <feMerge>
                                        <feMergeNode in="coloredBlur"></feMergeNode>
                                        <feMergeNode in="SourceGraphic"></feMergeNode>
                                    </feMerge>
                                </filter>
                            </defs>
                            <path d="M 250,175 C 450,100 550,100 750,200" stroke="#a78bfa" stroke-width="2" fill="none" stroke-dasharray="5,5" />
                            <path d="M 500,125 C 600,150 700,150 800,200" stroke="#c084fc" stroke-width="2" fill="none" stroke-dasharray="5,5" />
                        </svg>
                        <div class="absolute" style="top: 35%; left: 20%;">
                            <button data-company="oscar" class="map-dot bg-blue-500" title="Oscar Health"></button>
                        </div>
                        <div class="absolute" style="top: 25%; left: 50%;">
                            <button data-company="vitality" class="map-dot bg-purple-500" title="Vitality"></button>
                        </div>
                        <div class="absolute" style="top: 40%; left: 80%;">
                            <button data-company="cathay" class="map-dot bg-green-500 ring-4 ring-green-300" style="filter: url(#glow);" title="國泰 Health+"></button>
                        </div>
                    </div>
                     <div id="map-info-box" class="absolute bottom-4 left-4 right-4 bg-white/80 backdrop-blur-sm p-6 rounded-2xl shadow-lg opacity-0 transition-opacity duration-500 pointer-events-none">
                        <!-- Info will be displayed here -->
                    </div>
                </div>
            </div>
        </section>


        <!-- 3. Win-Win-Win Benefits -->
        <section id="benefits" class="section-wrapper">
            <div class="section-content max-w-5xl">
                <div class="fade-in">
                     <p class="text-green-600 font-semibold mb-2">第三部：良性循環</p>
                    <h2 class="section-title">創造用戶、國泰與社會的三贏局面</h2>
                    <p class="section-subtitle mb-12">一個平衡的生態系，為所有參與者創造可持續的價值。</p>
                </div>
                <div class="w-full fade-in" style="transition-delay: 0.3s;">
                    <div class="flex justify-center mb-8">
                        <div id="tabs" class="bg-slate-200/80 rounded-full p-1.5 flex flex-wrap justify-center gap-2">
                            <button data-tab="user" class="tab-button tab-button-user active">為您 (用戶)</button>
                            <button data-tab="cathay" class="tab-button tab-button-cathay">為國泰</button>
                            <button data-tab="society" class="tab-button tab-button-society">為社會</button>
                        </div>
                    </div>
                    <div id="tab-content" class="apple-card min-h-[450px]">
                        <!-- JS 會更新這裡的內容 -->
                    </div>
                </div>
            </div>
        </section>
        
        <!-- 4. Agent Transformation -->
        <section id="agents" class="section-wrapper">
            <div class="section-content max-w-6xl">
                <div class="fade-in">
                    <p class="text-green-600 font-semibold mb-2">第四部：人性的連結</p>
                    <h2 class="section-title">AI 賦能業務員：從銷售到健康顧問</h2>
                    <p class="section-subtitle mb-12">科技並非取代人力，而是賦能人力。我們打造了「人機協同」的服務新模式，提供有溫度的數位體驗。</p>
                </div>
                <div class="w-full fade-in apple-card" style="transition-delay: 0.3s;">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                        <div class="text-left">
                            <h3 class="text-3xl font-bold text-gray-800 mb-4">顧問的數位工具箱</h3>
                            <p class="text-gray-600 mb-6">AI 助理能幫助業務員高效地提供更專業、個人化的關懷與服務。</p>
                            <div class="bg-slate-100/70 p-4 rounded-xl shadow-inner space-y-4">
                                <div class="flex justify-between items-center">
                                    <div>
                                        <p class="font-bold">待關懷客戶：陳先生</p>
                                        <p class="text-sm text-gray-500">已 3 週未同步健康數據</p>
                                    </div>
                                    <button id="gemini-agent-btn" class="gemini-button text-sm py-2 px-4">✨ AI 草擬訊息</button>
                                </div>
                                <div id="gemini-agent-output" class="gemini-output mt-2 hidden"></div>
                            </div>
                        </div>
                        <div id="agent-dashboard" class="bg-slate-100/70 rounded-2xl p-6 shadow-inner">
                             <h4 class="font-bold text-lg mb-4 text-gray-700">顧問儀表板 (模擬)</h4>
                             <div id="dashboard-content" class="space-y-4 min-h-[150px]">
                                 <div class="bg-white p-4 rounded-lg shadow-sm">
                                    <p class="text-sm text-gray-500">客戶活躍度</p>
                                    <div class="w-full bg-slate-200 rounded-full h-4 mt-2">
                                        <div class="bg-green-500 h-4 rounded-full" style="width: 80%"></div>
                                    </div>
                                    <p class="text-right text-sm text-gray-600 mt-1">80% 已啟用App</p>
                                </div>
                                <div class="bg-white p-4 rounded-lg shadow-sm">
                                    <p class="text-sm text-gray-500">本週挑戰達成</p>
                                    <p class="text-3xl font-bold text-gray-800">15 <span class="text-base font-normal text-gray-500">位客戶</span></p>
                                </div>
                             </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 5. Challenges -->
        <section id="challenges" class="section-wrapper">
            <div class="section-content max-w-6xl">
                 <div class="fade-in">
                    <p class="text-green-600 font-semibold mb-2">第五部：迎接關鍵挑戰</p>
                    <h2 class="section-title">信任的基石與務實的執行</h2>
                    <p class="section-subtitle mb-12">我們已預見挑戰，並備妥周詳的計畫，確保願景穩健落地。</p>
                </div>
                <div class="w-full grid lg:grid-cols-2 gap-8 items-start">
                    <div class="fade-in" style="transition-delay: 0.3s;">
                        <div class="apple-card">
                            <h3 class="text-2xl font-bold text-gray-800 mb-6">對數據治理的極致承諾</h3>
                            <div class="flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0 md:space-x-2">
                                <div id="data-user" class="data-node active w-full md:w-auto">📱 <br>用戶裝置</div>
                                <div class="data-arrow">→</div>
                                <div id="data-cloud" class="data-node w-full md:w-auto">☁️ <br>加密雲端</div>
                                <div class="data-arrow">→</div>
                                <div id="data-anon" class="data-node w-full md:w-auto">👤 <br>匿名化處理</div>
                                 <div class="data-arrow">→</div>
                                <div id="data-analysis" class="data-node w-full md:w-auto">📊 <br>群體分析</div>
                            </div>
                            <div id="data-explanation" class="mt-8 p-4 bg-slate-100/70 rounded-lg min-h-[100px] text-left">
                                <!-- Explanation here -->
                            </div>
                        </div>
                    </div>
                    <div class="fade-in" style="transition-delay: 0.4s;">
                         <div class="apple-card">
                            <h3 class="text-2xl font-bold text-gray-800 mb-6">分階段推行計畫</h3>
                            <div class="flex flex-col md:flex-row justify-around border-b border-slate-200">
                                <div id="plan-phase1" class="plan-phase flex-1">
                                    <h4 class="text-lg font-bold">試點</h4><span class="text-sm text-gray-500">1-6個月</span>
                                </div>
                                <div id="plan-phase2" class="plan-phase flex-1 opacity-50">
                                    <h4 class="text-lg font-bold">擴展</h4><span class="text-sm text-gray-500">7-18個月</span>
                                </div>
                                <div id="plan-phase3" class="plan-phase flex-1 opacity-50">
                                    <h4 class="text-lg font-bold">全面推廣</h4><span class="text-sm text-gray-500">19個月+</span>
                                </div>
                            </div>
                            <div id="plan-details" class="mt-6 p-4 bg-slate-100/70 rounded-xl min-h-[100px] text-left">
                               <!-- Plan details here -->
                            </div>
                         </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- 5.3 Competitive Moat -->
        <section id="competitive-moat" class="section-wrapper">
            <div class="section-content max-w-5xl">
                 <div class="fade-in">
                    <h2 class="section-title">競爭的護城河：為何國泰終將勝出</h2>
                    <p class="section-subtitle mb-12">我們的優勢並非單點創新，而是將核心能力系統性整合，創造出競爭者難以複製的綜效。</p>
                </div>
                <div class="w-full fade-in apple-card text-center" style="transition-delay: 0.3s;">
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
                        <div class="flex flex-col items-center text-center p-2">
                            <div class="text-6xl mb-2">🏦</div><p class="font-semibold">品牌信任<br>& 規模經濟</p>
                        </div>
                        <div class="flex flex-col items-center text-center p-2">
                             <div class="text-6xl mb-2">🌳</div><p class="font-semibold">整合生態系<br>(含小樹點)</p>
                        </div>
                        <div class="flex flex-col items-center text-center p-2">
                            <div class="text-6xl mb-2">🤝</div><p class="font-semibold">科技賦能的<br>業務員網絡</p>
                        </div>
                        <div class="flex flex-col items-center text-center p-2">
                             <div class="text-6xl mb-2">💰</div><p class="font-semibold">資本實力<br>& 長期承諾</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- 6. Vision & CTA -->
        <section id="vision" class="section-wrapper h-screen bg-slate-800 text-white">
            <div class="section-content">
                <div class="fade-in">
                    <p class="text-green-400 font-semibold mb-2">第六部：我們的願景</p>
                    <h2 class="text-4xl md:text-6xl font-bold mb-4 tracking-tight">啟動良性循環</h2>
                </div>
                <div id="final-cycle" class="w-full max-w-3xl h-80 relative flex items-center justify-center fade-in my-8" style="transition-delay: 0.3s;">
                    <!-- JS 會在這裡創建循環動畫 -->
                </div>
                <div class="fade-in" style="transition-delay: 0.6s;">
                     <h3 class="text-2xl font-bold max-w-2xl mx-auto">誠摯邀請您，與我們共同投資一個更健康、更公平、更永續的台灣。</h3>
                </div>
            </div>
        </section>

    </main>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
    
        const chartInstances = {};

        const sections = document.querySelectorAll('section');
        const navContainer = document.getElementById('side-nav');
        
        const sectionTitles = {
            "intro": "開場",
            "aging-crisis": "高齡化危機",
            "vicious-cycle": "惡性循環",
            "youth-dilemma": "年輕世代的兩難",
            "paradigm-shift": "範式轉移",
            "app-flow": "App 核心引擎",
            "global-precedents": "全球先例",
            "benefits": "多方共贏",
            "agents": "業務員轉型",
            "challenges": "迎接挑戰",
            "competitive-moat": "競爭護城河",
            "vision": "最終願景",
        };

        Object.keys(sectionTitles).forEach(id => {
            const sectionEl = document.getElementById(id);
            if (!sectionEl) return;
            const dot = document.createElement('div');
            dot.classList.add('nav-dot');
            dot.dataset.section = id;
            dot.setAttribute('title', sectionTitles[id]);
            dot.addEventListener('click', () => {
                sectionEl.scrollIntoView({ behavior: 'smooth' });
            });
            navContainer.appendChild(dot);
        });

        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.3
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const id = entry.target.id;
                    entry.target.classList.add('is-visible');
                    
                    document.querySelectorAll('#side-nav .nav-dot').forEach(d => d.classList.remove('active'));
                    const activeDot = navContainer.querySelector(`[data-section="${id}"]`);
                    if(activeDot) activeDot.classList.add('active');

                    if (!entry.target.dataset.rendered) {
                        runAnimationForSection(id);
                        entry.target.dataset.rendered = true;
                    }
                }
            });
        }, observerOptions);
        
        sections.forEach(el => observer.observe(el));
        
        function destroyChart(id) {
            if (chartInstances[id]) {
                chartInstances[id].destroy();
                delete chartInstances[id];
            }
        }

        async function callGemini(prompt, buttonElement, outputElement) {
            buttonElement.disabled = true;
            outputElement.innerHTML = 'AI 正在思考中... <span class="animate-spin inline-block">✨</span>';
            
            const apiKey = "";
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            const payload = {
                contents: [{ role: "user", parts: [{ text: prompt }] }]
            };

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`API 請求失敗，狀態碼： ${response.status}`);
                }
                
                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    outputElement.innerHTML = text.replace(/\n/g, '<br>');
                } else {
                     outputElement.textContent = '抱歉，AI 回應格式錯誤，請稍後再試。';
                }
            } catch (error) {
                console.error('Gemini API 呼叫失敗:', error);
                outputElement.textContent = '抱歉，呼叫 AI 時發生網路錯誤，請檢查主控台訊息。';
            } finally {
                buttonElement.disabled = false;
            }
        }

        function runAnimationForSection(id) {
            switch(id) {
                case 'aging-crisis': 
                    renderAgingChart();
                    startLifeExpectancyAnimation();
                    break;
                case 'vicious-cycle': startCycleAnimation(); break;
                case 'youth-dilemma': setupAIFinancialPlanner(); break;
                case 'app-flow': startSolutionAnimation(); break;
                case 'global-precedents': setupMapInteraction(); break;
                case 'benefits': switchTab('user'); break;
                case 'agents': setupAIAgentAssistant(); break;
                case 'challenges':
                    setupDataFlowInteraction();
                    setupPlanInteraction();
                    break;
                case 'vision': renderFinalCycle(); break;
            }
        }
        
        function renderAgingChart() {
            destroyChart('agingChart');
            const ctx = document.getElementById('agingChart')?.getContext('2d');
            if(!ctx) return;
            chartInstances['agingChart'] = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['2018', '2025', '2030', '2040', '2050'],
                    datasets: [{
                        label: '高齡人口比例 (%)', data: [14.1, 20.8, 25.5, 34.3, 38.9],
                        borderColor: 'rgb(22, 163, 74)', backgroundColor: 'rgba(22, 163, 74, 0.1)', fill: true, tension: 0.4,
                    }, {
                        label: '青壯年扶養長者數 (每位)', data: [0.16, 0.29, 0.40, 0.65, 0.81],
                        borderColor: 'rgb(239, 68, 68)', backgroundColor: 'rgba(239, 68, 68, 0.1)', fill: true, tension: 0.4, yAxisID: 'y1'
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    scales: {
                        y: { beginAtZero: true, title: { display: true, text: '高齡人口比例 (%)' } },
                        y1: { type: 'linear', display: true, position: 'right', grid: { drawOnChartArea: false }, title: { display: true, text: '扶養比' } }
                    },
                    plugins: { legend: { position: 'bottom' } },
                     animation: { duration: 1500, easing: 'easeInOutQuad' }
                }
            });
        }
        
        function startLifeExpectancyAnimation() {
            const healthyBar = document.getElementById('healthy-years');
            const unhealthyBar = document.getElementById('unhealthy-years');
            const costCounter = document.getElementById('care-cost');
            
            if(!healthyBar || !unhealthyBar || !costCounter) return;

            setTimeout(() => {
                healthyBar.style.width = '90%'; // ~72 years
                unhealthyBar.style.width = '10%'; // ~8 years
            }, 500);

            let start = 0;
            const end = 4800000; // 預估照護成本
            const duration = 2000;
            const startTime = performance.now();

            function animate(currentTime) {
                const elapsedTime = currentTime - startTime;
                if (elapsedTime > duration) {
                    costCounter.textContent = 'NT$ ' + end.toLocaleString();
                    return;
                }
                const progress = elapsedTime / duration;
                const currentCost = Math.floor(progress * end);
                costCounter.textContent = 'NT$ ' + currentCost.toLocaleString();
                requestAnimationFrame(animate);
            }
            requestAnimationFrame(animate);
        }
        
        function startCycleAnimation(){
            const poolOld = document.getElementById('pool-old');
            const poolYoung = document.getElementById('pool-young');
            const cycleText = document.getElementById('cycle-text');
            if(!poolOld || !poolYoung || !cycleText) return;

            setTimeout(() => { cycleText.textContent = '高齡、高風險用戶增加...'; cycleText.classList.add('text-red-500'); poolOld.style.height = '6rem'; }, 1000);
            setTimeout(() => { cycleText.textContent = '導致保費上漲...'; cycleText.classList.replace('text-red-500', 'text-yellow-500'); }, 2500);
            setTimeout(() => { cycleText.textContent = '健康的年輕人被勸退...'; cycleText.classList.replace('text-yellow-500', 'text-blue-500'); poolYoung.style.height = '1.5rem'; }, 4000);
            setTimeout(() => { cycleText.textContent = '風險池失衡，陷入惡性循環。'; cycleText.classList.replace('text-blue-500', 'text-red-700'); poolOld.style.height = '7rem'; poolYoung.style.height = '1rem'; }, 5500);
        }

        let solutionInterval;
        function startSolutionAnimation() {
            if (solutionInterval) clearInterval(solutionInterval);
            const phoneContentEl = document.getElementById('phone-content');
            
            const contents = [
                { icon: '🏃‍♂️', title: '記錄步數', text: '12,532 步' },
                { icon: '🛌', title: '監測睡眠', text: '7小時 45分' },
                { icon: '🌳', title: '賺取小樹點', text: '+ 5 點' },
                { icon: '🛍️', title: '兌換獎勵', text: '咖啡、購物金' },
                { icon: '🛡️', title: '折抵保費', text: '下期保費 - NT$ 50' },
            ];
            let currentIndex = 0;
            
            function updatePhoneContent() {
                if(!phoneContentEl) return;
                const content = contents[currentIndex % contents.length];
                phoneContentEl.innerHTML = `
                    <div class="text-6xl mb-2 transition-transform duration-300 transform scale-100 group-hover:scale-110">${content.icon}</div>
                    <h4 class="text-lg font-bold text-gray-800">${content.title}</h4>
                    <p class="text-2xl font-bold text-green-600">${content.text}</p>
                `;
                currentIndex++;
            }
            updatePhoneContent();
            solutionInterval = setInterval(updatePhoneContent, 2000);
        }
        
        function setupMapInteraction() {
            const dots = document.querySelectorAll('.map-dot');
            const infoBox = document.getElementById('map-info-box');
            if(dots.length === 0 || !infoBox) return;

            const companyData = {
                oscar: { name: 'Oscar Health (美國)', desc: '將自己定位為科技公司，透過友善介面、線上問診與健身獎勵，提升用戶體驗。', color: 'blue' },
                vitality: { name: 'Vitality (全球)', desc: '開創科學化的點數系統，用戶透過健康活動升級會員，換取零售、航空等領域的折扣。', color: 'purple' },
                cathay: { name: '國泰 Health+ (台灣)', desc: '<strong>在地化超越：</strong>整合自有保險核心、嫁接成熟的小樹點生態系、並賦能龐大的業務員網絡，打造「人機協同」的全面性模式。', color: 'green' },
            };

            dots.forEach(dot => {
                dot.addEventListener('click', () => {
                    const company = dot.dataset.company;
                    const data = companyData[company];
                    infoBox.innerHTML = `<h4 class="font-bold text-lg text-${data.color}-600">${data.name}</h4><p class="text-gray-700 mt-1">${data.desc}</p>`;
                    infoBox.style.opacity = '1';
                    dots.forEach(d => d.classList.remove('ring-4', 'ring-offset-2', 'ring-blue-500', 'ring-purple-500', 'ring-green-500'));
                    dot.classList.add('ring-4', 'ring-offset-2', `ring-${data.color}-500`);
                });
            });
            // Trigger default
            document.querySelector('.map-dot[data-company="cathay"]').click();
        }

        const tabs = document.getElementById('tabs');
        const tabContent = document.getElementById('tab-content');
        const tabData = {
            user: { content: `<div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div class="text-left space-y-4">
                             <div class="p-4 rounded-lg bg-slate-50">
                                <h4 class="font-bold text-lg">賺取你的折扣</h4>
                                <p class="text-gray-600">解決年輕族群「價格敏感」痛點，透過健康行為賺取「小樹點」，直接折抵保費，保險不再是負擔。</p>
                            </div>
                             <div class="p-4 rounded-lg bg-slate-50">
                                <h4 class="font-bold text-lg">健康化為即時獎勵</h4>
                                <p class="text-gray-600">點數可兌換加油、購物金等，讓您的健康努力更有價值，滿足「即時回饋」的心理需求。</p>
                            </div>
                             <div class="p-4 rounded-lg bg-slate-50">
                                <h4 class="font-bold text-lg">發揮利他影響力</h4>
                                <p class="text-gray-600">可將點數捐贈給弱勢群體，購買微型保險，滿足年輕世代對「社會責任」的追求。</p>
                            </div>
                        </div>
                        <div class="chart-container h-72 md:h-80"><canvas id="userBenefitChart"></canvas></div>
                    </div>` },
            cathay: { content: `<div class="text-left"><h3 class="text-xl md:text-2xl font-bold text-center mb-6">關鍵保險指標預期影響</h3>
                <div class="overflow-x-auto"><table class="w-full text-sm text-left">
                <thead class="text-xs text-gray-700 uppercase bg-slate-100"><tr>
                    <th class="px-4 py-3">指標</th><th class="px-4 py-3">預期表現</th><th class="px-4 py-3">理由</th>
                </tr></thead><tbody>
                <tr class="border-b border-slate-200"><td class="px-4 py-4 font-medium">客戶獲取成本 (CAC)</td><td class="px-4 py-4 text-green-600 font-bold">降低 15-25%</td><td class="px-4 py-4">創新模式吸引年輕族群，降低行銷成本。</td></tr>
                <tr class="border-b border-slate-200"><td class="px-4 py-4 font-medium">客戶終身價值 (LTV)</td><td class="px-4 py-4 text-green-600 font-bold">提升 20-30%</td><td class="px-4 py-4">高頻互動提升客戶黏著度與忠誠度。</td></tr>
                <tr class="border-b border-slate-200"><td class="px-4 py-4 font-medium">理賠損失率</td><td class="px-4 py-4 text-green-600 font-bold">降低 5-15%</td><td class="px-4 py-4">更健康的保戶群體直接降低理賠風險。</td></tr>
                </tbody></table></div></div>` },
            society: { content: `<div class="text-center space-y-4">
                       <h4 class="font-bold text-2xl text-gray-800">減輕健保財政負擔</h4>
                       <p class="text-gray-600 max-w-2xl mx-auto">當國民更健康，對公共醫療資源的依賴便會降低。這是一個由市場驅動，創造巨大社會價值的公私協力典範。</p>
                        <div class="pt-6">
                            <label for="adoption-rate" class="block mb-2 font-medium text-gray-700">Health+ 採納率模擬</label>
                            <input id="adoption-rate" type="range" min="0" max="100" value="10" class="w-full max-w-md h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer">
                            <div class="mt-4 flex items-center justify-center space-x-4">
                               <span class="text-3xl">🏥</span><div class="w-48 bg-slate-200 rounded-full h-4"><div id="burden-bar" class="bg-red-500 h-4 rounded-full transition-all duration-300" style="width: 90%;"></div></div>
                               <span id="burden-text" class="font-bold text-red-500">健保負擔：高</span>
                            </div></div></div>` }
        };

        function switchTab(tabName) {
            if(!tabs || !tabContent) return;
            tabs.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
            const activeButton = tabs.querySelector(`[data-tab="${tabName}"]`);
            if (activeButton) activeButton.classList.add('active');
            tabContent.innerHTML = tabData[tabName].content;
            
            if (tabName === 'user') renderUserBenefitChart();
            if (tabName === 'society') setupSocietySlider();
        }
        if(tabs) {
            tabs.addEventListener('click', e => { if (e.target.tagName === 'BUTTON') { switchTab(e.target.dataset.tab); } });
        }
        
        function renderUserBenefitChart() {
            destroyChart('userBenefitChart');
            setTimeout(() => {
                const ctx = document.getElementById('userBenefitChart')?.getContext('2d');
                if (!ctx) return;
                chartInstances['userBenefitChart'] = new Chart(ctx, {
                    type: 'doughnut', data: { labels: ['保費折抵', '消費兌換', '公益捐贈'], datasets: [{ data: [50, 40, 10], backgroundColor: ['rgb(22, 163, 74)', 'rgb(5, 150, 105)', 'rgb(13, 148, 136)'], hoverOffset: 4 }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' }, title:{display:true, text:'小樹點價值分配'} }, animation: { animateScale: true, animateRotate: true, duration: 1200 } }
                });
            }, 100);
        }

        function setupSocietySlider() {
            const slider = document.getElementById('adoption-rate');
            const bar = document.getElementById('burden-bar');
            const text = document.getElementById('burden-text');
            if (!slider || !bar || !text) return;
            
            slider.addEventListener('input', (e) => {
                const value = e.target.value;
                const burden = 100 - value * 0.7;
                bar.style.width = `${burden}%`;
                if (burden < 50) {
                    bar.className = 'bg-green-500 h-4 rounded-full transition-all duration-300';
                    text.className = 'font-bold text-green-500';
                    text.textContent = '健保負擔：低';
                } else if (burden < 80) {
                    bar.className = 'bg-yellow-500 h-4 rounded-full transition-all duration-300';
                    text.className = 'font-bold text-yellow-500';
                    text.textContent = '健保負擔：中';
                } else {
                    bar.className = 'bg-red-500 h-4 rounded-full transition-all duration-300';
                    text.className = 'font-bold text-red-500';
                    text.textContent = '健保負擔：高';
                }
            });
        }
        
        function setupAIAgentAssistant() {
            const button = document.getElementById('gemini-agent-btn');
            const output = document.getElementById('gemini-agent-output');
            if(!button || !output) return;
            
            button.addEventListener('click', () => {
                output.style.display = 'block';
                const prompt = `你是一位國泰人壽的 AI 顧問助理。請為業務員草擬一則傳給客戶「陳先生」的關懷訊息。情境是：陳先生已經超過三週沒有同步他的 Health+ App 健康數據。訊息風格需要溫暖、不說教、不給壓力，主要是表達關心，並溫和地提醒維護健康習慣的好處。訊息請簡短，適合用通訊軟體傳送。請使用繁體中文。`;
                callGemini(prompt, button, output);
            });
        }

        function setupDataFlowInteraction() {
            const nodes = document.querySelectorAll('#challenges .data-node');
            const explanationBox = document.getElementById('data-explanation');
            if(nodes.length === 0) return;
            const explanations = {
                'data-user': '用戶透過 App 與穿戴裝置產生健康數據，所有數據在傳輸前均在裝置端加密。',
                'data-cloud': '加密後的數據傳輸至符合國際頂尖安全標準的雲端伺服器儲存。',
                'data-anon': '數據在用於分析前，會經過嚴格的去識別化與匿名化處理，移除所有個人可識別資訊。',
                'data-analysis': '只有匿名化、群體化的數據會被用於精算模型分析，以優化產品與定價，絕無個資洩漏風險。'
            };
            nodes.forEach(node => {
                node.addEventListener('click', () => {
                    nodes.forEach(n => n.classList.remove('active'));
                    node.classList.add('active');
                    explanationBox.textContent = explanations[node.id];
                });
            });
            document.getElementById('data-user').click();
        }

        function setupPlanInteraction() {
            const phases = document.querySelectorAll('#challenges .plan-phase');
            const detailsBox = document.getElementById('plan-details');
            if(phases.length === 0) return;
            const details = {
                'plan-phase1': { title: '第一階段：試點 (1-6個月)', content: `<strong>目標：</strong>驗證產品核心功能與價值主張，測試業務員轉型模式。<br><strong>對象：</strong>2-3個分公司、約100位「冠軍業務員」、5,000名早期用戶。<br><strong>成功指標：</strong>App下載率 > 80%、用戶月活躍度 (MAU) > 50%。`},
                'plan-phase2': { title: '第二階段：擴展 (7-18個月)', content: `<strong>目標：</strong>根據反饋優化產品，擴大業務員培訓，拓展合作夥伴。<br><strong>對象：</strong>擴展至30%的業務員團隊，目標10萬活躍用戶。<br><strong>成功指標：</strong>CAC穩定下降、用戶留存率達標、簽署3-5家新夥伴。`},
                'plan-phase3': { title: '第三階段：全面推廣 (19個月後)', content: `<strong>目標：</strong>將 Health+ 作為核心產品全面推廣，深化與政府的數據合作。<br><strong>對象：</strong>全體業務員，目標市場滲透率5%。<br><strong>成功指標：</strong>保險資金池健康度顯著提升、理賠損失率下降。`}
            };
            phases.forEach(phase => {
                phase.addEventListener('click', () => {
                    phases.forEach(p => p.classList.add('opacity-50'));
                    phase.classList.remove('opacity-50');
                    detailsBox.innerHTML = `<h4 class="font-bold mb-2">${details[phase.id].title}</h4><p class="text-gray-600">${details[phase.id].content}</p>`;
                });
            });
            document.getElementById('plan-phase1').click();
        }

        function renderFinalCycle() {
            const container = document.getElementById('final-cycle');
            if (!container || container.children.length > 0) return;
            const items = [
                { text: '更健康的用戶', icon: '❤️' }, { text: '國泰風險降低', icon: '🛡️' }, { text: '政府負擔減輕', icon: '🏥' },
                { text: '用戶回饋更佳', icon: '💰' }, { text: '吸引更多用戶', icon: '👥' },
            ];
            items.forEach((item, i) => {
                const angle = (i / items.length) * 2 * Math.PI - (Math.PI / 2);
                const x = 140 * Math.cos(angle);
                const y = 100 * Math.sin(angle);
                const node = document.createElement('div');
                node.className = 'absolute flex flex-col items-center transition-all duration-700 opacity-0';
                node.style.transform = `translate(${x}px, ${y}px) scale(0.8)`;
                node.innerHTML = `<div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center text-3xl mb-2">${item.icon}</div>
                                  <p class="text-sm font-medium text-center">${item.text}</p>`;
                container.appendChild(node);
                setTimeout(() => { node.style.opacity = '1'; node.style.transform = `translate(${x}px, ${y}px) scale(1)`; }, 200 + i * 300);
            });
        }

        function setupAIFinancialPlanner() {
            const slider = document.getElementById('budget-slider');
            const valueLabel = document.getElementById('budget-value');
            const button = document.getElementById('gemini-plan-btn');
            const output = document.getElementById('gemini-plan-output');

            if(!slider || !valueLabel || !button || !output) return;

            slider.addEventListener('input', () => {
                valueLabel.textContent = parseInt(slider.value).toLocaleString();
            });

            button.addEventListener('click', () => {
                const budget = slider.value;
                const prompt = `你是一位國泰人壽的 AI 保險規劃師。現在有一位 25 歲的年輕人想規劃長照保障，他/她的每月預算大約是新台幣 ${budget} 元。請基於「低保費、純保障、不還本」的原則，為他/她生成一份清晰、友善的長照保單概念。內容需包含建議的保障額度、核心特色（例如：失能豁免保費），並在預算範圍內估算月繳保費。請使用繁體中文回答，並以條列式呈現。`;
                callGemini(prompt, button, output);
            });
        }
        
        setupAIFinancialPlanner();

    });
    </script>
</body>
</html>
